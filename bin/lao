#!/bin/sh

PATH=/live/bin:/bin
dir=/live/custom/lao

main() {
    local idx=$(shuf -n1 $dir/lao.idx)
    : ${idx:=0}

    IFS=''
    local cnt=0
    tail -n $idx $dir/lao.txt | while read -r line; do
        case $line in
                %*) break            ;;
            [1-9]*) cnt=$((cnt + 1)) ;;
        esac
        [ $cnt -gt 1 ] && break
        echo "$line"
    done
}

# tac lao.txt grep -n "^[0-9]" | cut -d: -f1 > lao.idx


main

